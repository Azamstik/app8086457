{"version":3,"sources":["assets/icons_free1000stickers/Story.png","assets/icons_free1000stickers/IconConditions.png","assets/icons_free1000stickers/IconGroup.png","assets/icons_free1000stickers/IconMessages.png","assets/icons_free1000stickers/IconShare.png","js/utils.js","apps/Free1000Stickers.js","index.js","assets/icons_free1000stickers/bg.png"],"names":["module","exports","get","url","a","params","query","Object","keys","map","value","encodeURIComponent","join","url_","Promise","res","rej","fetch","method","then","json","answer","catch","err","error","code","text","toString","getRandomInt","min","max","Math","floor","random","getUrlParams","window","location","search","length","JSON","parse","decodeURI","substring","replace","proxyUrl","Free1000Stickers","props","state","popout","history","activePanel","activeModal","modalHistory","user","currentGroupIdJoin","currentGroupIdMessage","componentDidMount","bind","updateInfo","back","undefined","pop","setState","snackbar","bridge","send","status","go","panel","push","pushState","setActivePanel","this","data","addEventListener","e","preventDefault","subscribe","detail","type","console","log","schemeAttribute","document","createAttribute","body","attributes","setNamedItem","supports","status_bar_style","action_bar_color","subscribed","messages","story","require","createCanvas","loadImage","canvas","ctx","getContext","background","drawImage","getStoryCanvas","shared","background_type","blob","toDataURL","attachment","vk_app_id","token","toBlob","uploadStoryPhotoToWall","caption","v","access_token","uploadWallUrl","response","upload_url","bodyFormData","FormData","append","res_","server","photo","hash","wallPhoto","message","copyright","attachments","owner_id","id","title","album_id","uploadAlbumUrl","photos_list","app_id","parseInt","scope","indexOf","api","app","src","alt","className","index","key","onClick","icon","disabled","onclick","group_id","group_id_join","group_id_message","setToken","shareStory","style","pointerEvents","opacity","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.82c9d96d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Story.0522e9d2.png\";","module.exports = __webpack_public_path__ + \"static/media/IconConditions.553c3602.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADZSURBVHgB7ZRhEYMwDIXTKWAOkIAEnGwOhoPigDmphEqYBCQwB1l7hFu4NSPQ/uS7yx1H2/dySVqAk6MgYh3Ch5hwxsV/UAISX4Q5UxETylbC79EyggH+OfM2xlxByUUSkY9AxRLpqWwxBtBCzZVwtOeZWLNag80mS+ughUwcE/bIJijbQJGATRjo+6A0GfDbZF396WCF84SMLLsXCdaQQxC4C/Xlje5CtLh+SuL3bUu8w3x6SVwazSO0iy6/yQ9gtzQTmzJooRxNyqCBcvy+ZbgeSS0jnOTyAcxgTzoSSzGkAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACBSURBVHgB7ZTRCYAgFEWvTVAb1CSN1Ai1QY3QBo3UCLbB6xkGYkRZzx/xwEUUvedHHpAJgYgGjqbvmLfjXflEcvRnr3IEmpcSMmxKqcoXEARhwdFdIDLpCxqbt/tgwW/yL0pXsMUWzJcTkkG7k/RJYC53kMIrXzg1JOHC1aZFxmEHix4lBPwJHokAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADfSURBVHgBtZVdEcIwEISvKKgDIgEHFCXggDpoHSAhEpCABCQEB+BgWWYy0JZcpz+Xb2Yf2iR717s0EVkAgBDlJAf4kScI+jypnViCNEdZC00qykOnlSVwYR1LMYV2jnEVGzkXP8W8xjruVKmZt7Ah5DT/D8AXJ9jRLxEfHJY1NIVPlcbDhiZl7mBDo+0aP2HxjTpTW2VcPyowXvsLBvt5MD5+2H0GFeNA7ZU13TlOxoifPUT/C2XmhcNJ10TmpRixobpmD+pQFMVLrEC/wesvjUSAb2kkB1mzjwFCtuzJGxiQ+LOand/NAAAAAElFTkSuQmCC\"","import {default as bridge} from '@vkontakte/vk-bridge';\r\n\r\nexport function convertTextToLines(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d')\r\n    ;\r\n    ctx.font = font;\r\n    let width = 0, lines = [], result, i, j;\r\n\r\n    while (text.length) {\r\n        for (i = text.length; ctx.measureText(text.substr(0, i)).width > max_width; i--) ;\r\n        result = text.substr(0, i);\r\n\r\n        if (i !== text.length)\r\n\r\n            for (j = 0; result.indexOf(' ', j) !== -1; j = result.indexOf(' ', j) + 1) ;\r\n        lines.push(result.substr(0, j || result.length));\r\n\r\n        width = Math.max(width, ctx.measureText(lines[lines.length - 1]).width);\r\n        text = text.substr(lines[lines.length - 1].length, text.length);\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport async function get(url, params = {}) {\r\n    const\r\n        query = params ? '?' + Object.keys(params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(params[value])\r\n        ).join('&') : '',\r\n        url_ = `${url}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        fetch(url_, {method: 'GET'})\r\n            .then(res =>\r\n                res.json()\r\n            )\r\n            .then(answer =>\r\n                res(answer)\r\n            ).catch(err =>\r\n            res({error: {code: -1, text: err.toString()}})\r\n        );\r\n    });\r\n}\r\n\r\nexport const defaultFonts = [\r\n    'SF Pro Text',\r\n    'SF Pro Text Heavy',\r\n    'SF Pro Text Semibold',\r\n    'SF Pro Display',\r\n    'SF Pro Display Bold',\r\n    'SF Pro Display Semibold',\r\n    'SF Pro Display Medium',\r\n    'SF Pro Rounded',\r\n    'SF Pro Rounded Semibold',\r\n    'SF Pro Rounded Bold',\r\n    'SF UI Display',\r\n    'SF UI Text',\r\n    'TT Commons',\r\n    'TT Commons Bold',\r\n    'TT Commons Demibold',\r\n    'Manrope ExtraBold'\r\n];\r\n\r\nexport function loadFonts(fonts = defaultFonts) {\r\n    for (const font of fonts) {\r\n        const span = document.createElement('span');\r\n        span.style.fontFamily = font;\r\n        span.innerText = '.';\r\n        document.body.appendChild(span);\r\n        setTimeout(() => span.remove(), 1);\r\n    }\r\n}\r\n\r\nexport function animateValue(obj, start, end, duration) {\r\n    if (start === end || end - start === 1) {\r\n        obj.innerHTML = end;\r\n    } else {\r\n        let startTimestamp = null;\r\n        const step = (timestamp) => {\r\n            if (!startTimestamp) startTimestamp = timestamp;\r\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n            obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n            if (progress < 1) {\r\n                window.requestAnimationFrame(step);\r\n            }\r\n        };\r\n        window.requestAnimationFrame(step);\r\n    }\r\n}\r\n\r\nexport function cps(array) {\r\n    if (array.length !== 0) {\r\n        let\r\n            first_date = array[0],\r\n            cur_pos = 0,\r\n            clicks_per_second = []\r\n        ;\r\n        array = array.map(value => value - first_date);\r\n\r\n        for (const click of array) {\r\n            cur_pos = click < 1000 ? 0 : parseInt((click + '').substring(0, (click + '').length - 3));\r\n            clicks_per_second[cur_pos] = clicks_per_second[cur_pos] > 0 ? clicks_per_second[cur_pos] + 1 : 1;\r\n        }\r\n\r\n        clicks_per_second = clicks_per_second.filter(value => value > 0);\r\n\r\n        const\r\n            max_cps = Math.max(...clicks_per_second),\r\n            min_cps = Math.min(...clicks_per_second),\r\n            mid_cps = Math.ceil((max_cps + min_cps) / 2)\r\n        ;\r\n        return {max_cps, min_cps, mid_cps};\r\n    } else {\r\n        return {max_cps: 0, min_cps: 0, mid_cps: 0};\r\n    }\r\n}\r\n\r\nfunction componentToHex(c) {\r\n    const hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n}\r\n\r\nexport function rgbToHex(r, g, b) {\r\n    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function decOfNum(number, titles, needNumber = true) {\r\n    if (number !== undefined) {\r\n        let decCache = [],\r\n            decCases = [2, 0, 1, 1, 1, 2];\r\n        if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\r\n        return (needNumber ? number + ' ' : '') + titles[decCache[number]];\r\n    }\r\n}\r\n\r\nexport function numToStr(number) {\r\n    if (number > 0 && number <= 10) {\r\n        const words = [\r\n            '–ø–µ—Ä–≤–æ–µ', '–≤—Ç–æ—Ä–æ–µ', '—Ç—Ä–µ—Ç—å–µ', '—á–µ—Ç–≤–µ—Ä—Ç–æ–µ', '–ø—è—Ç–æ–µ', '—à–µ—Å—Ç–æ–µ', '—Å–µ–¥—å–º–æ–µ', '–≤–æ—Å—å–º–æ–µ', '–¥–µ–≤—è—Ç–æ–µ', '–¥–µ—Å—è—Ç–æ–µ'\r\n        ];\r\n        return words[number - 1];\r\n    } else {\r\n        return number + '';\r\n    }\r\n}\r\n\r\nexport function shortIntegers(int) {\r\n    try {\r\n        return int.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n    } catch (e) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function shortIntegersK(int) {\r\n    const\r\n        int_ = shortIntegers(int),\r\n        split = int_.split(' ')\r\n    ;\r\n    return split[0] + new Array((split.length - 1)).fill('–ö').join('')\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function getRandomInts(min, max, count) {\r\n    const array = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const int = getRandomInt(min, max);\r\n        if (array.indexOf(int) === -1) {\r\n            array.push(int);\r\n        } else {\r\n            if (max >= count)\r\n                i--;\r\n            else\r\n                array.push(int);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nexport function nodeToString(node) {\r\n    let tmpNode = document.createElement(\"div\");\r\n    tmpNode.appendChild(node.cloneNode(true));\r\n    let str = tmpNode.innerHTML;\r\n    tmpNode = node = null;\r\n    return str;\r\n}\r\n\r\nexport function convertMiliseconds(miliseconds) {\r\n    let hours, minutes, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return hours + '—á. ' + minutes + '–º–∏–Ω.';\r\n}\r\n\r\nexport function convertMsToNormalTime(miliseconds) {\r\n    let hours, minutes, seconds, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    seconds = parseInt(total_seconds % 60);\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return {\r\n        hours, minutes, seconds, str: {\r\n            hours: hours.toLocaleString('ru', {minimumIntegerDigits: 2}),\r\n            minutes: minutes.toLocaleString('ru', {minimumIntegerDigits: 2}),\r\n            seconds: seconds.toLocaleString('ru', {minimumIntegerDigits: 2})\r\n        }\r\n    };\r\n}\r\n\r\nconst getImage = (src) =>\r\n    new Promise((res, rej) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => res(image);\r\n        image.crossOrigin = 'anonymous';\r\n        image.onstalled = (e) => {\r\n            console.log('Failed to fetch data, but trying.', e);\r\n            rej(e);\r\n        };\r\n        image.onerror = (e) => {\r\n            console.log('Failed to fetch data, error.', e);\r\n            rej(e);\r\n        };\r\n        image.src = src;\r\n    });\r\n\r\nexport async function toBlob(object, dataUrl = true) {\r\n    const\r\n        myCanvas = document.createElement('canvas'),\r\n        ctxt = myCanvas.getContext('2d');\r\n\r\n    let base = typeof object === 'string' ? object : window.btoa(object);\r\n    const img = await getImage(typeof object === 'string' ? base : `data:image/svg+xml;base64,${base}`);\r\n    myCanvas.height = img.height;\r\n    myCanvas.width = img.width;\r\n    if (ctxt === null) {\r\n        return \"\";\r\n    }\r\n    ctxt.drawImage(img, 0, 0, img.width, img.height);\r\n    return dataUrl ? myCanvas.toDataURL() : myCanvas;\r\n}\r\n\r\nexport function getUrlParams() {\r\n    return window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\r\n}\r\n\r\nexport const platforms = {\r\n    desktop_web: /desktop_web/g,\r\n    mobile_android: /mobile_android/g,\r\n    mobile_android_messenger: /mobile_android_messenger/g,\r\n    mobile_ipad: /mobile_ipad/g,\r\n    mobile_iphone: /mobile_iphone/g,\r\n    mobile_iphone_messenger: /mobile_iphone_messenger/g,\r\n    mobile_web: /mobile_web/g,\r\n\r\n    android: /mobile_android|mobile_android_messenger/g,\r\n    ios: /mobile_ipad|mobile_iphone|mobile_iphone_messenger/g\r\n};\r\n\r\nexport function isPlatformIOS() {\r\n    return getUrlParams().vk_platform === 'mobile_iphone';\r\n}\r\n\r\nexport function isPlatformAndroid() {\r\n    return platforms.android.test(getUrlParams().vk_platform);\r\n}\r\n\r\nexport function isPlatformDesktop() {\r\n    return getUrlParams().vk_platform === 'desktop_web';\r\n}\r\n\r\nexport let\r\n    vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl']\r\n;\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            users = users.concat(\r\n                await vkApiRequest('users.get', {\r\n                    user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                    fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n                })\r\n            );\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    return (await bridge.send('VKWebAppCallAPIMethod', {\r\n        method,\r\n        params: {\r\n            ...params,\r\n            v: '5.126',\r\n            access_token: params.access_token || '7a8d6dcc7a8d6dcc7a8d6dcc637afa8f4477a8d7a8d6dcc1b06a888634e406617b4aef3'\r\n        }\r\n    })).response\r\n}\r\n\r\nexport function viewportToPixels(value) {\r\n    const\r\n        parts = value.match(/([0-9\\.]+)(vh|vw)/),\r\n        q = Number(parts[1]),\r\n        side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    ;\r\n    return side * (q / 100)\r\n}\r\n\r\nexport function openUrl(url) {\r\n    const element = document.createElement('a');\r\n    element.href = url;\r\n    element.target = '_blank';\r\n    element.click();\r\n    element.remove();\r\n}\r\n\r\nexport function getUrlLocation() {\r\n    return window.location.origin + window.location.pathname.replace('/index.html', '');\r\n}\r\n\r\nexport function getSrcUrl(resource) {\r\n    return getUrlLocation() + resource.substring(1);\r\n}\r\n\r\nexport async function getBase64Image(imageUri) {\r\n    const\r\n        canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        img = new Image()\r\n    ;\r\n    img.src = 'https://murmuring-bastion-20764.herokuapp.com/' + imageUri;\r\n    img.crossOrigin = 'Anonymous';\r\n    return await new Promise(resolve =>\r\n        img.onload = function () {\r\n            canvas.width = this.width;\r\n            canvas.height = this.height;\r\n            ctx.drawImage(img, 0, 0, this.width, this.height);\r\n            resolve(canvas.toDataURL('image/png'));\r\n        }\r\n    );\r\n}\r\n\r\nexport function appendScript(code) {\r\n    let\r\n        container = document.getElementById('advert_container'),\r\n        script = document.createElement('script')\r\n    ;\r\n    script.innerHTML = code;\r\n    if (container === null) {\r\n        container = document.createElement('div');\r\n        container.id = 'advert_container';\r\n        document.body.appendChild(container);\r\n    }\r\n    container.innerHTML = '';\r\n    setTimeout(() => {\r\n        container.appendChild(script);\r\n    }, 400);\r\n}\r\n\r\nexport async function adAppApi(method, params) {\r\n    return await get('https://api.ad-app.ru/method/' + method, {...getUrlParams(), ...params})\r\n}","import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '../css/Free1000Stickers.css';\r\n\r\nimport {\r\n    AppRoot,\r\n    Button,\r\n    Panel,\r\n    ScreenSpinner,\r\n    View\r\n} from '@vkontakte/vkui';\r\n\r\nimport {convertTextToLines, get, getUrlParams, loadFonts} from \"../js/utils\";\r\nimport {decOfNum, getRandomInt} from \"../js/utils\";\r\nimport fetch from \"node-fetch\";\r\nimport {createCanvas, loadImage} from \"canvas\";\r\n\r\nconst\r\n    getAppUrl = 'https://vds2153919.my-ihor.ru:8081/api/apps.get',\r\n    proxyUrl = ['https://murmuring-bastion-20764.herokuapp.com/', 'https://vds2153919.my-ihor.ru:8088/'][getRandomInt(0, 1)]\r\n;\r\n\r\nclass Free1000Stickers extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            popout: null,\r\n            history: ['onboarding'],\r\n            activePanel: 'onboarding',\r\n\r\n            activeModal: null,\r\n            modalHistory: [],\r\n\r\n            user: {},\r\n            currentGroupIdJoin: 0,\r\n            currentGroupIdMessage: 0\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.updateInfo = this.updateInfo.bind(this);\r\n        this.back = () => {\r\n            const {history, popout} = this.state;\r\n\r\n            if (popout !== null && popout !== undefined) {\r\n                return;\r\n            }\r\n\r\n            if (history.length > 1) {\r\n                history.pop();\r\n                this.setState({activePanel: history[history.length - 1], history});\r\n                if (history[history.length - 1] !== 'search')\r\n                    this.setState({snackbar: null});\r\n            } else {\r\n                bridge.send('VKWebAppClose', {status: 'success'});\r\n            }\r\n        };\r\n        this.go = (panel) => {\r\n            const {history} = this.state;\r\n            if (history[history.length - 1] !== panel) {\r\n                history.push(panel);\r\n                window.history.pushState({activePanel: panel}, 'Title');\r\n                this.setState({activePanel: panel, history, snackbar: null});\r\n            }\r\n        };\r\n        this.setActivePanel = (panel, history = []) => {\r\n            this.setState({activePanel: panel, history: [...history, panel], snackbar: null});\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const data = await this.updateInfo();\r\n\r\n        window.addEventListener('popstate', e => {\r\n            e.preventDefault();\r\n            this.back();\r\n        });\r\n\r\n        bridge.subscribe(async ({detail: {type, data}}) => {\r\n            if (type !== undefined) console.log(type, data);\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = 'space_gray';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n                if (bridge.supports('VKWebAppSetViewSettings')) {\r\n                    bridge.send('VKWebAppSetViewSettings', {\r\n                        status_bar_style: 'dark',\r\n                        action_bar_color: '#252743'\r\n                    });\r\n                }\r\n            } else if (type === 'VKWebAppViewRestore') {\r\n                this.setState({popout: null});\r\n            }\r\n        });\r\n\r\n        bridge.send('VKWebAppInit');\r\n\r\n        if (data.user.subscribed && data.user.messages && data.user.story) {\r\n            this.go('conditions');\r\n        }\r\n    }\r\n\r\n    async getStoryCanvas() {\r\n        const\r\n            {createCanvas, loadImage} = require('canvas'),\r\n            canvas = createCanvas(1080, 1920),\r\n            ctx = canvas.getContext('2d'),\r\n            background = await loadImage(require('../assets/icons_free1000stickers/Story.png'))\r\n        ;\r\n\r\n        ctx.drawImage(background, 0, 0);\r\n\r\n        return canvas;\r\n    }\r\n\r\n    async shareStory() {\r\n        this.setState({popout: <ScreenSpinner/>});\r\n        const canvas = await this.getStoryCanvas();\r\n        this.setState({popout: null});\r\n        let shared = false;\r\n        try {\r\n            await bridge.send('VKWebAppShowStoryBox', {\r\n                background_type: 'image',\r\n                blob: canvas.toDataURL('image/png'),\r\n                attachment: {\r\n                    text: 'go_to',\r\n                    type: 'url',\r\n                    url: `https://vk.com/app${getUrlParams().vk_app_id}`\r\n                }\r\n            });\r\n            shared = true;\r\n        } catch (e) {\r\n        }\r\n\r\n        if (this.state.token) {\r\n            canvas.toBlob(async function (blob) {\r\n                this.uploadStoryPhotoToWall(blob);\r\n            }.bind(this));\r\n        }\r\n\r\n        return shared;\r\n    }\r\n\r\n    async uploadStoryPhotoToWall(blob) {\r\n        const\r\n            caption = `–ö–æ–Ω–∫—É—Ä—Å –∑–¥–µ—Å—å üëâüèª https://vk.com/app${getUrlParams().vk_app_id}`,\r\n            uploadWallUrl = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'photos.getWallUploadServer',\r\n                params: {\r\n                    v: '5.126',\r\n                    access_token: this.state.token\r\n                }\r\n            })).response.upload_url,\r\n            bodyFormData = new FormData()\r\n        ;\r\n\r\n        bodyFormData.append('photo', blob, 'image.png');\r\n\r\n        try {\r\n            fetch(proxyUrl + uploadWallUrl, {\r\n                method: 'POST',\r\n                body: bodyFormData\r\n            })\r\n                .then(res_ => {\r\n                    return res_.json();\r\n                })\r\n                .then(async response => {\r\n                    const {server, photo, hash} = response;\r\n                    const wallPhoto = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                        method: 'photos.saveWallPhoto',\r\n                        params: {\r\n                            server,\r\n                            photo,\r\n                            hash,\r\n                            caption,\r\n                            v: '5.126',\r\n                            access_token: this.state.token\r\n                        }\r\n                    })).response[0];\r\n\r\n                    bridge.send('VKWebAppShowWallPostBox', {\r\n                        message: '',\r\n                        copyright: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                        attachments: `photo${wallPhoto.owner_id}_${wallPhoto.id}`\r\n                    });\r\n                });\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async uploadStoryPhotoToAlbum(blob) {\r\n        const\r\n            caption = `–ö–æ–Ω–∫—É—Ä—Å –∑–¥–µ—Å—å üëâüèª https://vk.com/app${getUrlParams().vk_app_id}`,\r\n            album_id = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'photos.createAlbum',\r\n                params: {\r\n                    title: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã',\r\n                    v: '5.126',\r\n                    access_token: this.state.token\r\n                }\r\n            })).response.id,\r\n            uploadAlbumUrl = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'photos.getUploadServer',\r\n                params: {\r\n                    album_id,\r\n                    v: '5.126',\r\n                    access_token: this.state.token\r\n                }\r\n            })).response.upload_url,\r\n            bodyFormData = new FormData()\r\n        ;\r\n\r\n        bodyFormData.append('photo', blob, 'image.png');\r\n\r\n        try {\r\n            fetch(proxyUrl + uploadAlbumUrl, {\r\n                method: 'POST',\r\n                body: bodyFormData\r\n            })\r\n                .then(res_ => {\r\n                    return res_.json();\r\n                })\r\n                .then(async response => {\r\n                    const {server, photos_list, hash} = response;\r\n                    await bridge.send('VKWebAppCallAPIMethod', {\r\n                        method: 'photos.save',\r\n                        params: {\r\n                            album_id,\r\n                            server,\r\n                            photos_list,\r\n                            hash,\r\n                            caption,\r\n                            v: '5.126',\r\n                            access_token: this.state.token\r\n                        }\r\n                    });\r\n                });\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async setToken() {\r\n        try {\r\n            const response = await bridge.send('VKWebAppGetAuthToken', {\r\n                app_id: parseInt(getUrlParams().vk_app_id),\r\n                scope: 'friends,wall,photos'\r\n            });\r\n            if (response.scope.indexOf('wall') > -1) {\r\n                await this.setState({token: response.access_token});\r\n            }\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    async updateInfo() {\r\n        const\r\n            user = await this.api('users.get'),\r\n            app = (await get(getAppUrl, {app_id: getUrlParams().vk_app_id})).response\r\n        ;\r\n        await this.setState({app, user});\r\n        return {app, user};\r\n    }\r\n\r\n    async api(method, params) {\r\n        return await get('https://vds2153927.my-ihor.ru:8086/api/' + method, {...params, ...getUrlParams()});\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {activePanel, popout, app, user} = this.state\r\n        ;\r\n\r\n        return (\r\n            <AppRoot>\r\n                <View activePanel={activePanel} popout={popout}>\r\n                    <Panel id='onboarding'>\r\n                        <img src={require('../assets/icons_free1000stickers/bg.png')} alt='img' className='Background'/>\r\n                        <div className='Onboard'>\r\n                            <div className='title gradient_text'>\r\n                                –ü—Ä–∏–≤–µ—Ç!\r\n                            </div>\r\n                            <div className='description'>\r\n                                –ú—ã –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω–∫—É—Ä—Å –Ω–∞ 1000 —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–æ–≤. –£—Å–ª–æ–≤–∏—è —É—á–∞—Å—Ç–∏—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã:\r\n                            </div>\r\n                            <div className='conditions'>\r\n                                {\r\n                                    ['–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–∞—à—É –≥—Ä—É–ø–ø—É –∏ —Ä–∞—Å—Å—ã–ª–∫—É',\r\n                                        '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω–∫—É—Ä—Å–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ'].map(((value, index) =>\r\n                                            <div key={`div_${index}`}>\r\n                                                <div>{index + 1}</div>\r\n                                                <div>{value}</div>\r\n                                            </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                            <div className='title_2 gradient_text'>\r\n                                –ò—Ç–æ–≥–∏ –∫–æ–Ω–∫—É—Ä—Å–∞ –ø–æ–¥–≤–µ–¥–µ–º 1 –º–∞—Ä—Ç–∞ –≤ –ø—Ä—è–º–æ–º —ç—Ñ–∏—Ä–µ\r\n                            </div>\r\n                            <div className='description_2'>\r\n                                –í—Å–µ –±—É–¥–µ—Ç —á–µ—Å—Ç–Ω–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ. –ö–∞–∂–¥—ã–π –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —Å–≤–æ–π –ø—Ä–∏–∑. –¢–∞–∫–∂–µ –∫–∞–∂–¥—ã–π\r\n                                —É—á–∞—Å—Ç–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–¥–∞–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç –≤ –ø–æ–¥–∞—Ä–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä, –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–π\r\n                                –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–æ–π*\r\n                            </div>\r\n                            <div className='subdescription'>\r\n                                *–ü—Ä–æ—Å—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏, –Ω–µ —Å—Ç–∏–∫–µ—Ä—ã –≤–∫\r\n                            </div>\r\n                        </div>\r\n                        <div className='button main_button' onClick={() => this.go('conditions')}>\r\n                            –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å\r\n                        </div>\r\n                    </Panel>\r\n                    <Panel id='conditions'>\r\n                        <img src={require('../assets/icons_free1000stickers/bg.png')} alt='img' className='Background'/>\r\n                        <div className='Conditions'>\r\n                            <img src={require('../assets/icons_free1000stickers/IconConditions.png')} alt='img'\r\n                                 className='Conditions_Icon'/>\r\n                            <div className='title_3 gradient_text'>\r\n                                –û—Ç–ª–∏—á–Ω–æ!\r\n                            </div>\r\n                            <div className='description_3'>\r\n                                {(user.subscribed && user.messages && user.story) ?\r\n                                    '–¢–≤–æ–π ID –∑–∞–ø–∏—Å–∞–Ω, –≤—Å–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã' :\r\n                                    '–¢–≤–æ–π ID –∑–∞–ø–∏—Å–∞–Ω –≤ —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –æ—Å—Ç–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —É—Å–ª–æ–≤–∏—è –∫–æ–Ω–∫—É—Ä—Å–∞'}\r\n                            </div>\r\n                            <div className='conditions_buttons'>\r\n                                {\r\n                                    [\r\n                                        {\r\n                                            text: '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≥—Ä—É–ø–ø—É',\r\n                                            icon: require('../assets/icons_free1000stickers/IconGroup.png'),\r\n                                            disabled: user.subscribed,\r\n                                            onclick: async () => {\r\n                                                try {\r\n                                                    await bridge.send('VKWebAppJoinGroup', {\r\n                                                        group_id: app.group_id_join[0],\r\n                                                        key: 'FSDIfulnwje'\r\n                                                    });\r\n                                                    await this.api('users.subscribe');\r\n                                                    await this.updateInfo();\r\n                                                } catch (e) {\r\n                                                }\r\n                                            }\r\n                                        },\r\n                                        {\r\n                                            text: '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É',\r\n                                            icon: require('../assets/icons_free1000stickers/IconMessages.png'),\r\n                                            disabled: user.messages,\r\n                                            onclick: async () => {\r\n                                                try {\r\n                                                    await bridge.send('VKWebAppAllowMessagesFromGroup', {\r\n                                                        group_id: app.group_id_message[0],\r\n                                                        key: 'FSDIfulnwje'\r\n                                                    });\r\n                                                    await this.api('users.messages');\r\n                                                    await this.updateInfo();\r\n                                                } catch (e) {\r\n                                                }\r\n                                            }\r\n                                        },\r\n                                        {\r\n                                            text: '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ —Å—Ç–æ—Ä–∏—Å',\r\n                                            icon: require('../assets/icons_free1000stickers/IconShare.png'),\r\n                                            disabled: user.messages,\r\n                                            onclick: async () => {\r\n                                                await this.setToken();\r\n                                                const shared = await this.shareStory();\r\n                                                if (shared) {\r\n                                                    await this.api('users.story');\r\n                                                    await this.updateInfo();\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    ].map((({icon, text, onclick, disabled}, index) =>\r\n                                            <div key={`Condition_${index}`} onClick={onclick} style={\r\n                                                disabled ? {\r\n                                                    pointerEvents: 'none',\r\n                                                    opacity: .5\r\n                                                } : {}\r\n                                            }>\r\n                                                <img src={icon} alt='ic'/>\r\n                                                <div>{text}</div>\r\n                                            </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </Panel>\r\n                </View>\r\n            </AppRoot>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Free1000Stickers;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '@vkontakte/vkui/dist/unstable.css'\nimport {AdaptivityProvider, AppRoot, ConfigProvider} from \"@vkontakte/vkui\";\n\nimport './css/Fonts.css';\nimport './css/Error.css';\nimport './css/Utils.css';\n\n//import App from './apps/Tracker';\n//import App from './apps/MedicalCard';\n\n//import App from './apps/Wheel';\n//import App from './apps/AskMe';\n//import App from './apps/LoveAnalysis';\n//import App from './apps/YearTest';\n//import App from './apps/IQTest';\n//import App from './apps/MvsW';\n//import App from './apps/DeathDate';\n//import App from './apps/DeathDate2';\n//import App from './apps/Slaves';\n//import App from './apps/VKTime';\n//import App from './apps/LikesStat';\n//import App from './apps/VKAccPrice';\n//import App from './apps/DateCelebrity';\n//import App from './apps/NameInCountry';\n//import App from './apps/AccKarma';\nimport App from './apps/Free1000Stickers';\n\n//import App from './apps/BattleStat';\n//import App from './apps/BattleStatCatalog';\n\n//import App from './apps/AdvertisementApp';\n//import App from './apps/AdvertisementAppSite';\n\n//import App from './apps/ClickerBattle/ClickerBattle';\n//import App from './apps/Drawing/Drawing';\n//import App from './apps/Drawing/Global';\n\n//import App from './apps/RandomCooking';\n\n\nReactDOM.render(\n\t\tfalse ?\n\t\t<App />\n\t\t:\n        <ConfigProvider>\n            <AdaptivityProvider>\n                <AppRoot>\n                    <App/>\n                </AppRoot>\n            </AdaptivityProvider>\n        </ConfigProvider>, document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/bg.85c13e0c.png\";"],"sourceRoot":""}